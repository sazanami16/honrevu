<div class="contents row">
  <div class="container">
    <h3>投 稿</h3>
         <%= form_with(model: @review, local: true) do |f| %>
         <%= render 'reviews/error_messages', model: @review %>

            <%= f.file_field :image, placeholder: "Image Url" %>
            <%= f.text_field :title, placeholder: "Title" %>
            <%= f.collection_select(:genre_id, Genre.all, :id, :name, {}, {class:"genre-select"}) %>
            <%= f.text_area :text, placeholder: "Text", class: "text-count", id: "input-text",rows: 4 %>
            <p class="text-counter" id="counter">0文字</p>
        
              <div class="field" id="star">
                <%= f.label :rating,  "星評価 (※必須)" ,id: "e"%> 
                <%= f.hidden_field :rating, id: :review_star %>
              </div>
              <script>
              $('#star').raty({
                size     : 36,
                starOff:  '<%= asset_path('star-off.png') %>',
                starOn :  '<%= asset_path('star-on.png') %>',
                starHalf: '<%= asset_path('star-half.png') %>',
                scoreName: 'review[rating]',
                half: true,
              });
            </script>  
            <%= f.submit "Review!!" %>
        <% end %>
  </div>
</div>
